FROM openjdk:8-jdk-alpine
#EXPOSE 1097
VOLUME /tmp
RUN apk update
USER root
RUN apk add xorg-server
RUN apk add xauth
RUN apk add sudo
RUN apk add curl
RUN apk add --no-cache fontconfig ttf-dejavu
RUN apk --update --no-cache add busybox-extras
RUN apk update
COPY fontconfig.properties $JAVA_HOME/Lib/fontconfig.properties
COPY java.policy $JAVA_HOME/jre/lib/security/java.policy
# COPY target/loizRmiClient.jar target/loizRmiClient.jar
# COPY target/LoizRmiServer.jar target/LoizRmiServer.jar
COPY java.policy ${JAVA_HOME}/jre/lib/security/java.policy
# CMD tail -f /dev/null
#ENTRYPOINT ["java","-Djava.rmi.server.hostname=127.0.0.1", "-jar", "target/loizRmiClient.jar"]
# ENTRYPOINT ["java", "-jar", "target/loizRmiClient.jar"]